<!DOCTYPE html>
<html style="height: 100%;">
<head>
<script type="text/javascript" language="JavaScript">
setTimeout(function(){
    alert("Your time has run out on this problem. Please move on to the next problem.");
    let href = "thinkaloud4-write.html";
    const queryString = document.location.search;
    const urlParams = new URLSearchParams(queryString);
    const studentId = urlParams.get('student-id');
    if (studentId) {
        href += "?student-id=" + studentId;
    }
    window.location.href = href;
}, 420000);
// 7 minutes
</script>
</head>

<body style="background-color: gray; height: 100%; margin: 0;">
<div style="max-width:700px; margin: 0 auto;background-color:white; padding: 10px 30px;">
<h2>Problem 3 of 4</h2>
<div>
Match any price in the form $3.45 or $23.32 or $400. Your regex should capture price meeting the following requirements:
<ul>
    <li>Start with a "$" sign;</li>
    <li>The price should be an integer, or have exactly two digits after the decimal point.</li>
</ul>
<br>
<b>Make sure to return the full matched string instead of letting regex to return the content inside the group if you are using parentheses.</b>

<br>

</div>
<div class="test-div"></div>
<script type="module">
import "./packages/regex-element/regex-element.js";
document.querySelector('.test-div').innerHTML = `<regex-element input-type='parsons' id="abcd" problem-id='thinkaloud4'></regex-element>`;
let parsonsElement = document.querySelector('#abcd');
parsonsElement.setInitialTestString('match:\n$3.45\n$23.32\n$400\n\ndo mot match:\n$.23\n$400.1\n');
parsonsElement.unitTestTable.noGroupsAllowed = true;
parsonsElement.regexInput.expandableBlocks = ['()', '(?:)', '{}'];
parsonsElement.regexInput.expandableBlockTooltips = ['Groups the expression inside the parentheses and returns only the expression inside the parentheses', 'Groups the expression inside the parentheses, but returns the full matched string as \'?:\' negates the effect of grouping', 'Matches the previous expression m times when m is put into the curly braces'];
parsonsElement.parsonsExplanation = ['Matches character \'$\' literally', 'Matches character \'.\' literally', 'Matches all digits (0-9)', 'Matches character \'2\' literally or used as a number in curly braces', 'Match 1 or more repetitions of the preceding expression', 'Match either 0 or 1 repetitions of the preceding expression'];
parsonsElement.parsonsData = ['\\$', '\\.', '\\d', '2', '+', '?', '\\.\\d{2}'];
parsonsElement.setTestCases([
    {input: '$3.45', expect: ['$3.45'], notes:'A matching testcase'},
    {input: '$400', expect:['$400'], notes: ''},
    {input: '$23.32', expect: ['$23.32'], notes:''},
    {input: '$.23', expect: [], notes: ''},
    {input: '$400.1', expect: [], notes: ''},
    {input: '$2.233', expect: [], notes: ''},
    {input: '$$3.45', expect: [], notes: ''}
    ]);
parsonsElement.addEventListener('passed-all-testcases', function (e) {
    setTimeout(function(){
        alert("Congratulations! You have passed all test cases for this problem. Please move on to the next problem.");
        let href = "thinkaloud4-write.html";
        const queryString = document.location.search;
        const urlParams = new URLSearchParams(queryString);
        const studentId = urlParams.get('student-id');
        if (studentId) {
            href += "?student-id=" + studentId;
        }
        window.location.href = href;
    }, 500);
})
</script>
</div>
</body>

</html>