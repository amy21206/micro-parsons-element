<!DOCTYPE html>
<html>
<head>
<script src="skulpt.min.js" type="text/javascript"></script>
<script src="skulpt-stdlib.js" type="text/javascript"></script>
<link rel="stylesheet" href="xcode.css">
<link rel="stylesheet" href="./micro-parsons/micro-parsons.css">
</head>

<body>

<script type="module">
import "./micro-parsons/micro-parsons.js";
</script>

<h3>Sample Problem</h3>
<div>
	Write a function sum13(nums) to return the sum of the numbers in the list nums, returning 0 for an empty list. Except the number 13 is very unlucky, so it does not count and a number that comes immediately after a 13 also does not count.  For example, sum13([13,2]) returns 0, sum13([1, 13, 4, 2])  returns 3, sum13([1, 2, 3])  returns 6.
</div>
<br>

Less Help <input type="range" min="0" max="2" id="scaffolding-slider" value="0"> More Help

<button style="
    margin-left: 40px;
    margin-bottom: 15px;
">Check</button>

<textarea class="subgoal" id="write-code" style="width: 870px; height: 350px; overflow: scroll; white-space: pre; font-family: monospace;font-size: 15px;padding: 10px;" spellcheck="false"></textarea>

<micro-parsons language="python" id="micro-parsons-pseudo">
<mp-context subgoal>
# Subgoal 1: Define function and initialize variables.
def sum13(sums):
    total = 0
    found_13 = False
    <mp-context subgoal>
    # Subgoal 2: Start a loop to examine each number in the list.
    for num in nums:
    </mp-context>
        <mp-context subgoal>
        # Subgoal 3: Within the loop, handle the case for the number following 13.
        if found_13:
            found_13 = False
        </mp-context>
        <mp-context subgoal>
        # Subgoal 4: Handle the case for encountering a 13 in the list.
        <mp-line randomize indentation="1">
        <mp-block>==<mp-block-ttp>equals</mp-block-ttp></mp-block>
        <mp-block>else</mp-block>
        <mp-block>num</mp-block>
        <mp-block>:</mp-block>
        <mp-block>13</mp-block>
        <mp-block>elif</mp-block>
        <mp-block distractor>!=</mp-block>
        </mp-line>
            found_13 = True
        </mp-context>
        <mp-context subgoal>
        # Subgoal 5: Finally, handle the case for encountering a number that isn't 13 or doesn't follow a 13.
        else:
            total += num
        </mp-context>
    <mp-context subgoal>
    # Subgoal 6: Return the accumulated total after the loop ends.
    return total
    </mp-context>
</mp-context>
</micro-parsons>
</body>

</html>

<script>
var context = document.querySelector('mp-line').parentElement;
while (context.tagName == 'MP-CONTEXT') {
	if (context.firstChild.classList) {
		if (context.firstChild.classList.contains('subgoal')) {
			context.firstChild.click();	
		}

	}
	context = context.parentElement;
}

var slider = document.querySelector('#scaffolding-slider');
slider.oninput = function() {
	var value = this.value;
	if (value == '0') {
		document.querySelector('micro-parsons').style.display='none';
		document.querySelector('#write-code').style.display='block';
		document.querySelector('#write-code').value = `# Please write your code below`;
	} else if (value == '1') {
		document.querySelector('micro-parsons').style.display='none';
		document.querySelector('#write-code').style.display='block';
		document.querySelector('#write-code').value = 
`# Subgoal 1: Define function and initialize variables.

    # Subgoal 2: Start a loop to examine each number in the list.

        # Subgoal 3: Within the loop, handle the case for the number following 13.

        # Subgoal 4: Handle the case for encountering a 13 in the list.

        # Subgoal 5: Finally, handle the case for encountering a number that 
        #            isn't 13 or doesn't follow a 13.

    # Subgoal 6: Return the accumulated total after the loop ends.

		`;
	} else if (value == '2') {
		document.querySelector('micro-parsons').style.display='block';
		document.querySelector('#write-code').style.display='none';
	}
}
slider.oninput();

</script>