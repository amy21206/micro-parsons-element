<!DOCTYPE html>
<html style="height: 100%;">
<head>
<script type="text/javascript" language="JavaScript">
setTimeout(function(){
    alert("Your time has run out on this problem. Please move on to the next problem.");
    let href = "thinkaloud4.html";
    const queryString = document.location.search;
    const urlParams = new URLSearchParams(queryString);
    const studentId = urlParams.get('student-id');
    if (studentId) {
        href += "?student-id=" + studentId;
    }
    window.location.href = href;
}, 420000);
// 7 minutes
</script>
</head>

<body style="background-color: gray; height: 100%; margin: 0;">
<div style="max-width:700px; margin: 0 auto;background-color:white; padding: 10px 30px; height: 100%;">
<h2>Problem 4 of 4</h2>
<div>
Capture email address with letters, numbers, underscore and dots. A valid email address defined in this problem must meet the following requirements:
<br>
<ul>
    <li>Has an "@" symbol in between;</li>
    <li>Before the "@" symbol, there can be one or more strings made of letters, numbers and underscores. A dot is used in between the strings. No two dots are allowed to appear consecutively.</li>
    <li>After the "@" symbol, there can two or more strings made of letters, numbers and underscores. A dot is used in between the strings. No two dots are allowed to appear consecutively.</li>
    <li>No other characters besides letters, numbers, underscores, dots, and the "@" symbol should appear in the email address.</li>
</ul>
<br>
For example, your regular expression should match email addresses like: abc@umich.edu, 8ab.c_def9@example.regex.com;
<br>
But your regex should not match: abc@ def., ab..abc@def.com, abc@def

</div>
<div class="test-div"></div>
<script type="module">
import "./packages/regex-element/regex-element.js";
document.querySelector('.test-div').innerHTML = `<regex-element input-type='parsons' id="abcd" problem-id='thinkaloud3'></regex-element>`;
let parsonsElement = document.querySelector('#abcd');
parsonsElement.regexInput.expandableBlocks = ['()'];
parsonsElement.regexInput.expandableBlockTooltips = ['Grouping the content inside and return the value in the group'];
parsonsElement.parsonsExplanation = ['Matches alphanumeric characters and underscore (A-Z, a-z, 0-9, _)', 'Matches character \'@\' literally', 'Matches character \'.\' literally', 'Match 1 or more repetitions of the preceding expression','Match 0 or more repetitions of the preceding expression', 'Match either 0 or 1 repetitions of the preceding expression'];
parsonsElement.parsonsData = ['\\w', '@', '\\.', '+', '*', '?'];
parsonsElement.setTestCases([
    {input: 'abc@umich.edu', expect: ['abc@umich.edu'], notes:'A matching testcase'},
    {input: '8ab.c_def9@example.regex.com', expect:['8ab.c_def9@example.regex.com'], notes: 'A matching testcase'},
    {input: 'abc@asd@efsg', expect: [], notes:''},
    {input: 'abc@ def.', expect: [], notes: ''},
    {input: 'ab..abc@def.com', expect: [], notes: ''},
    {input: 'abc@def', expect: [], notes: ''},
    {input: 'abc.@def.com', expect: [], notes: ''},
    ]);
parsonsElement.setInitialTestString('match:\nabc@umich.edu\n8ab.c_def9@example.regex.com\n\ndo not match:\nabc@ def.\nab..abc@def.com\nabc@def\n');
parsonsElement.addEventListener('passed-all-testcases', function (e) {
    setTimeout(function(){
        alert("Congratulations! You have passed all test cases for this problem. Thank you for completing the study.");
    }, 500);
})
</script>
</div>
</body>

</html>